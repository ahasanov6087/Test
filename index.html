<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaşını Seç və Hədiyyəni Qazan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            padding: 40px 30px;
            text-align: center;
        }

        h1 {
            color: #4a4a9c;
            margin-bottom: 30px;
            font-size: 28px;
            line-height: 1.4;
        }

        .age-selector {
            margin: 30px 0;
            position: relative;
        }

        .dropdown {
            position: relative;
            margin: 0 auto;
            width: 100%;
            max-width: 350px;
        }

        .dropdown-toggle {
            width: 100%;
            padding: 16px 20px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 12px;
            background-color: white;
            cursor: pointer;
            text-align: left;
            position: relative;
            transition: all 0.3s;
        }

        .dropdown-toggle:hover, .dropdown-toggle.active {
            border-color: #6e8efb;
            box-shadow: 0 5px 15px rgba(110, 142, 251, 0.2);
        }

        .dropdown-toggle:after {
            content: '▼';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
            color: #6e8efb;
            transition: transform 0.3s;
        }

        .dropdown-toggle.active:after {
            transform: translateY(-50%) rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: white;
            border: 2px solid #6e8efb;
            border-top: none;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 10;
            display: none;
            max-height: 300px;
            overflow-y: auto;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 16px 20px;
            font-size: 18px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid #f0f0f0;
        }

        .dropdown-item:hover {
            background-color: #f8f9ff;
            color: #6e8efb;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .btn {
            padding: 16px 40px;
            font-size: 18px;
            font-weight: 600;
            background: linear-gradient(to right, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(10px);
            pointer-events: none;
        }

        .btn.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .btn:hover {
            box-shadow: 0 7px 20px rgba(110, 142, 251, 0.4);
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .stats {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px dashed #ddd;
            text-align: left;
        }

        .stats h3 {
            color: #4a4a9c;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }

        .stat-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .stat-age {
            font-weight: 500;
        }

        .stat-count {
            font-weight: 600;
            color: #6e8efb;
        }

        .selected-age {
            color: #6e8efb;
            font-weight: 600;
            font-size: 18px;
            margin-top: 20px;
            min-height: 27px;
        }

        .footer {
            margin-top: 30px;
            font-size: 14px;
            color: #777;
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .dropdown-toggle, .dropdown-item, .btn {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Yaşını seç və hədiyyəni qazan</h1>
        
        <div class="age-selector">
            <div class="dropdown">
                <button class="dropdown-toggle" id="dropdownToggle">
                    Yaş aralığını seçin
                </button>
                <div class="dropdown-menu" id="dropdownMenu">
                    <div class="dropdown-item" data-age="5-7">5-7 yaş</div>
                    <div class="dropdown-item" data-age="8-10">8-10 yaş</div>
                    <div class="dropdown-item" data-age="11-13">11-13 yaş</div>
                    <div class="dropdown-item" data-age="15-17">15-17 yaş</div>
                    <div class="dropdown-item" data-age="18+">18+ yaş</div>
                </div>
            </div>
            
            <div class="selected-age" id="selectedAge"></div>
        </div>
        
        <button class="btn" id="continueBtn">Davam et</button>
        
        <div class="stats">
            <h3>Seçim Statistikası:</h3>
            <div id="statsContainer">
                <!-- Stats will be loaded here -->
            </div>
        </div>
        
        <div class="footer">
            Seçiminiz bazamızda qeyd olunacaq. Təşəkkürlər!
        </div>
    </div>

    <script>
        // Database simulation using localStorage
        class AgeDatabase {
            constructor() {
                this.storageKey = 'ageSelectionStats';
                this.initializeStats();
            }
            
            initializeStats() {
                const defaultStats = {
                    '5-7': 0,
                    '8-10': 0,
                    '11-13': 0,
                    '15-17': 0,
                    '18+': 0
                };
                
                let currentStats = localStorage.getItem(this.storageKey);
                
                if (!currentStats) {
                    localStorage.setItem(this.storageKey, JSON.stringify(defaultStats));
                    return defaultStats;
                }
                
                return JSON.parse(currentStats);
            }
            
            addSelection(ageRange) {
                let stats = this.getStats();
                
                if (stats.hasOwnProperty(ageRange)) {
                    stats[ageRange]++;
                } else {
                    stats[ageRange] = 1;
                }
                
                localStorage.setItem(this.storageKey, JSON.stringify(stats));
                return stats;
            }
            
            getStats() {
                let stats = localStorage.getItem(this.storageKey);
                return stats ? JSON.parse(stats) : this.initializeStats();
            }
        }

        // Initialize database
        const database = new AgeDatabase();
        
        // DOM Elements
        const dropdownToggle = document.getElementById('dropdownToggle');
        const dropdownMenu = document.getElementById('dropdownMenu');
        const continueBtn = document.getElementById('continueBtn');
        const selectedAgeDisplay = document.getElementById('selectedAge');
        const statsContainer = document.getElementById('statsContainer');
        
        let selectedAge = '';
        
        // Update stats display
        function updateStatsDisplay() {
            const stats = database.getStats();
            let statsHTML = '';
            
            for (const [ageRange, count] of Object.entries(stats)) {
                statsHTML += `
                    <div class="stat-item">
                        <span class="stat-age">${ageRange} yaş</span>
                        <span class="stat-count">${count} nəfər</span>
                    </div>
                `;
            }
            
            statsContainer.innerHTML = statsHTML;
        }
        
        // Toggle dropdown
        dropdownToggle.addEventListener('click', function() {
            dropdownMenu.classList.toggle('show');
            dropdownToggle.classList.toggle('active');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown')) {
                dropdownMenu.classList.remove('show');
                dropdownToggle.classList.remove('active');
            }
        });
        
        // Handle age selection
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', function() {
                selectedAge = this.getAttribute('data-age');
                dropdownToggle.textContent = this.textContent;
                selectedAgeDisplay.textContent = `Seçildi: ${this.textContent}`;
                dropdownMenu.classList.remove('show');
                dropdownToggle.classList.remove('active');
                
                // Show continue button
                continueBtn.classList.add('show');
            });
        });
        
        // Handle continue button click
        continueBtn.addEventListener('click', function() {
            if (selectedAge) {
                // Save selection to database
                database.addSelection(selectedAge);
                
                // Update stats display
                updateStatsDisplay();
                
                // In a real implementation, this would redirect to index1.html
                // For this demo, we'll show a success message
                alert(`Seçiminiz qeydə alındı: ${selectedAge} yaş! İndi index1.html səhifəsinə yönləndiriləcəksiniz.`);
                
                // Reset for next selection
                selectedAge = '';
                dropdownToggle.textContent = 'Yaş aralığını seçin';
                selectedAgeDisplay.textContent = '';
                continueBtn.classList.remove('show');
                
                // In a real implementation, uncomment the line below
                // window.location.href = 'index1.html';
            }
        });
        
        // Initialize stats display on page load
        updateStatsDisplay();
        
        // Keyboard navigation for dropdown
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowDown' && dropdownMenu.classList.contains('show')) {
                const items = document.querySelectorAll('.dropdown-item');
                if (items.length > 0) {
                    items[0].focus();
                }
            }
        });
    </script>
</body>
</html>